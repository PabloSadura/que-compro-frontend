<div class="w-full mx-auto p-6 md:p-8 bg-white rounded-xl shadow-lg border border-slate-200 space-y-6">
  
  <div class="text-center">
    <h1 class="text-3xl font-bold text-slate-800">Encuentra tu producto ideal</h1>
    <p class="text-slate-500 mt-2">Usa nuestra IA para analizar miles de opciones en segundos.</p>
  </div>

  <div class="relative">
    <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4">
      <svg class="w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>
    </div>
    <input 
      type="search" 
      [ngModel]="query()" (ngModelChange)="query.set($event)"
      (search)="onSubmit()"
      placeholder="Ej: Cafetera express, taladro inalámbrico..."
      class="w-full py-3 pl-12 pr-4 text-slate-700 border border-slate-300 rounded-full focus:border-sky-500 focus:ring-2 focus:ring-sky-200"
    >
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div>
      <label class="block text-sm font-medium text-slate-600 mb-1">Precio Mín.</label>
      <input type="number" [ngModel]="minPrice()" (ngModelChange)="minPrice.set($event)" placeholder="Ej: 5000" class="flex w-full items-center justify-between rounded-md px-3 py-2 text-sm font-medium bg-white border border-slate-300 text-slate-600 hover:bg-slate-50 rounded-full">
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-600 mb-1">Precio Máx.</label>
      <input type="number" [ngModel]="maxPrice()" (ngModelChange)="maxPrice.set($event)" placeholder="Ej: 20000" class="flex w-full items-center justify-between rounded-md px-3 py-2 text-sm font-medium bg-white border border-slate-300 text-slate-600 hover:bg-slate-50 rounded-full">
    </div>
    <div class="relative">
      <label class="block text-sm font-medium text-slate-600 mb-1">Moneda</label>
      <button (click)="isCurrencyDropdownOpen.set(!isCurrencyDropdownOpen())" type="button" class="flex w-full items-center justify-between px-3 py-2 text-sm font-medium bg-white border border-slate-300 text-slate-600 hover:bg-slate-50 rounded-full">
        <span>{{ selectedCurrency() || 'Seleccionar' }}</span>
        <svg class="h-5 w-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
      </button>
      @if (isCurrencyDropdownOpen()) {
        <ul class="absolute right-0 z-10 mt-1 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-slate-200 rounded-50">
          <li><a (click)="selectCurrency('ARS')" class="block cursor-pointer px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">ARS</a></li>
          <li><a (click)="selectCurrency('USD')" class="block cursor-pointer px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">USD</a></li>
          <li><a (click)="selectCurrency('EUR')" class="block cursor-pointer px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">EUR</a></li>
          <li><a (click)="selectCurrency('CL')" class="block cursor-pointer px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">CL</a></li>
          <li><a (click)="selectCurrency('BRS')" class="block cursor-pointer px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">BRS</a></li>
        </ul>
      }
    </div>
  </div>

  <button (click)="onSubmit()" class="w-full rounded-full flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-base font-semibold text-white bg-sky-500 hover:bg-sky-600">
    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.5 21.75l-.398-1.188a3.375 3.375 0 00-2.455-2.456L12.75 18l1.188-.398a3.375 3.375 0 002.455-2.456L16.5 14.25l.398 1.188a3.375 3.375 0 002.456 2.456L20.25 18l-1.188.398a3.375 3.375 0 00-2.456 2.456z" /></svg>
    Analizar con IA
  </button>
</div>